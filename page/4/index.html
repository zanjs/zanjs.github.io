<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.lug.ustc.edu.cn/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="zanjs, 赞生博客" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="一米阳光下，一本书，一个人，思念昉~">
<meta property="og:type" content="website">
<meta property="og:title" content="一点心怡 | 前端娃">
<meta property="og:url" content="http://zanjs.com/page/4/index.html">
<meta property="og:site_name" content="一点心怡 | 前端娃">
<meta property="og:description" content="一米阳光下，一本书，一个人，思念昉~">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一点心怡 | 前端娃">
<meta name="twitter:description" content="一米阳光下，一本书，一个人，思念昉~">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://zanjs.com/page/4/"/>

  <title> 一点心怡 | 前端娃 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">一点心怡 | 前端娃</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">精于心, 简于形, 说前端</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/20/Ubuntu/ubuntu中crontab的用法手记/" itemprop="url">
                  ubuntu中crontab的用法手记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-20T09:43:54+08:00" content="2016-07-20">
              2016-07-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Crontab/" itemprop="url" rel="index">
                    <span itemprop="name">Crontab</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="crontab入门命令"><a href="#crontab入门命令" class="headerlink" title="crontab入门命令"></a>crontab入门命令</h2><p>cron是linux中的守护进程，用来定期执行一些任务。基本的命令包括以下几个：</p>
<ul>
<li>crontab -e 　编辑该用户的crontab，当指定crontab 不存在时新建。</li>
<li>crontab -l 　列出该用户的crontab。</li>
<li>crontab -r 　删除该用户的crontab。</li>
<li>crontab -u &lt;用户名称&gt; 　指定要设定crontab的用户名称。</li>
<li>crontab –v 显示上一次编辑的时间（只在某些操作系统上可用）</li>
</ul>
<p>作为一个新用户，首先需要的操作是，执行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ crontab -e</div></pre></td></tr></table></figure>
<p>在linux系统中，不同的用户打开的crontab文件是不同的。当你打开你用户所属的crontab,第一次用这个命令，会让你选择文本编辑器。<br>我的电脑上显示4中编辑器，如下，我选择是vim.basic。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">1. /bin/ed         </div><div class="line">2. /bin/nano      </div><div class="line">3. /usr/bin/vim.basic              </div><div class="line">4. /usr/bin/vim.tiny</div></pre></td></tr></table></figure>
<p>如果你编辑时，选择错了编辑器，或者是想更改，可以使用下面的命令进行重新选择：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ select-editor</div></pre></td></tr></table></figure>
<p>打开后的crontab内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># m h  dom mon dow   command      </div><div class="line">*/2 * * * * date &gt;&gt; ~/time.log</div></pre></td></tr></table></figure>
<p>第二行是我为了测试写的一个定期任务，它的意思是，每隔两分钟就执行 date &gt;&gt; ~/time.log 命令（记录当前时间到time.log文件）。<br>你可以把它加入你的crontab中，然后保存退出。</p>
<p>保存了crontab之后，我们还需要重启cron来应用这个计划任务。使用以下命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo service cron restart</div></pre></td></tr></table></figure>
<h2 id="开启日志功能"><a href="#开启日志功能" class="headerlink" title="开启日志功能"></a>开启日志功能</h2><p>修改配置文件：/etc/rsyslog.d/50-default.conf</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /etc/rsyslog.d/50-default.conf</div></pre></td></tr></table></figure>
<p>在配置文件中，把</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#cron.*       /var/log/cron.log</div></pre></td></tr></table></figure>
<p>前面的注释#号去掉就OK了。</p>
<p>重启rsyslog服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service rsyslog restart</div></pre></td></tr></table></figure>
<p>再次查看cron日志</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ls /var/log/cron.log</div></pre></td></tr></table></figure>
<p>备注：这里就有了 crontab 日志。</p>
<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p><code>crontab</code> 有一个坏毛病,就是它总是不会缺省的从用户 <code>profile</code> 文件中读取环境变量参数,<br>经常导致在手工执行某个脚本时是成功的,但是到 <code>crontab</code> 中试图让它定期执行时就是会出错.<br>看了这个就知道怎么修改脚本了,脚本的头上用缺省的 <code>#!/bin/sh</code> 就可以,然后然后第一个部分先写这些:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#!/bin/sh</div><div class="line">. /etc/profile</div><div class="line">. ~/.bash_profile</div></pre></td></tr></table></figure>
<h2 id="奇怪"><a href="#奇怪" class="headerlink" title="奇怪"></a>奇怪</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/30/Ubuntu/Ubuntu-启动定时任务Crontab-篇/" itemprop="url">
                  Ubuntu 启动定时任务Crontab 篇
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-30T10:09:34+08:00" content="2016-06-30">
              2016-06-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">Ubuntu</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Ubuntu 下如何设置定时任务</p>
<h2 id="Ubuntu启用Crontab"><a href="#Ubuntu启用Crontab" class="headerlink" title="Ubuntu启用Crontab"></a>Ubuntu启用Crontab</h2><p>启动cron服务：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service cron start</div></pre></td></tr></table></figure>
<p>如果需要设置为开机时自动启动，则执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sysv-rc-conf --level 35 cron on</div></pre></td></tr></table></figure>
<p>另外，ubuntu默认没有开启cron执行的日志的，需要做如下3步：</p>
<pre><code>- 修改rsyslog文件，将/etc/rsyslog.d/50-default.conf 文件中的#cron.*前的#删掉

- 重启rsyslog服务service rsyslog restart

- 重启cron服务service cron restart
</code></pre><h2 id="Ubuntu-14-04-版本的cron中使用notify-send"><a href="#Ubuntu-14-04-版本的cron中使用notify-send" class="headerlink" title="Ubuntu 14.04 + 版本的cron中使用notify-send"></a>Ubuntu 14.04 + 版本的cron中使用notify-send</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#!/bin/sh</div><div class="line"></div><div class="line">eval &quot;export $(egrep -z DBUS_SESSION_BUS_ADDRESS /proc/$(pgrep -u $LOGNAME gnome-session)/environ)&quot;</div><div class="line">notify-send $1</div></pre></td></tr></table></figure>
<p><a href="http://askubuntu.com/questions/298608/notify-send-doesnt-work-from-crontab/346580#346580" target="_blank" rel="external">具体参见</a></p>
<p>然后编辑cron配置： crontab -e</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">0 * * * 1-5 sh /home/ronry/bin/cron-notice.sh 休息一下</div></pre></td></tr></table></figure>
<h2 id="cron文件语法"><a href="#cron文件语法" class="headerlink" title="cron文件语法"></a>cron文件语法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> 分     小时    日       月       星期     命令</div><div class="line"></div><div class="line">0-59    0-23    1-31    1-12     0-6     command     (取值范围,0表示周日一般一行对应一个任务)</div></pre></td></tr></table></figure>
<p>记住几个特殊符号的含义:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">“*”代表取值范围内的数字,</div><div class="line">“/”代表”每”,</div><div class="line">“-”代表从某个数字到某个数字,</div><div class="line">“,”分开几个离散的数字</div></pre></td></tr></table></figure>
<h2 id="cron-任务-demo"><a href="#cron-任务-demo" class="headerlink" title="cron 任务 demo"></a>cron 任务 demo</h2><blockquote>
<p>**</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">5      *       *         *     *     ls             指定每小时的第5分钟执行一次ls命令</div><div class="line">30     5       *         *     *     ls             指定每天的 5:30 执行ls命令</div><div class="line">30     7       8         *     *     ls             指定每月8号的7：30分执行ls命令</div><div class="line">30     5       8         6     *     ls             指定每年的6月8日5：30执行ls命令</div><div class="line">30     6       *         *     0     ls             指定每星期日的6:30执行ls命令[注：0表示星期天，1表示星期1，</div></pre></td></tr></table></figure>
<blockquote>
<p>-/</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">30     3        10,20     *     *     ls     每月10号及20号的3：30执行ls命令[注：“，”用来连接多个不连续的时段]</div><div class="line"></div><div class="line">25     8-11     *         *     *     ls     每天8-11点的第25分钟执行ls命令[注：“-”用来连接连续的时段]</div><div class="line"></div><div class="line">*/15   *        *         *     *     ls     每15分钟执行一次ls命令 [即每个小时的第0 15 30 45 60分钟执行ls命令 ]</div><div class="line"></div><div class="line">30      6       */10      *     *     ls     每个月中，每隔10天6:30执行一次ls命令[即每月的1、11、21、31日是的6：30执行一次ls 命令。 ]</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/29/css/less-笔记/" itemprop="url">
                  less 笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-29T17:32:29+08:00" content="2016-06-29">
              2016-06-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/less/" itemprop="url" rel="index">
                    <span itemprop="name">less</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><ul>
<li><p>e(@string); // 对字符串转义</p>
</li>
<li><p>escape(@string); // 通过 URL-encoding 编码字符串</p>
</li>
<li><p>%(@string, values…); // 格式化字符串</p>
</li>
<li><p>unit(@dimension, [@unit: “”]); // 移除或替换属性</p>
</li>
<li><p>color(@string); // 将字符串解析为颜色值</p>
</li>
<li><p>data-uri([mimetype,] url); // * 将资源内嵌到css退到url()</p>
</li>
<li><p>ceil(@number); // 向上取整</p>
</li>
<li><p>floor(@number); // 向下取整</p>
</li>
<li><p>percentage(@number); // 将数字转换为百分比，例如 0.5 -&gt; 50%</p>
</li>
<li><p>round(number, [places: 0]); // 四舍五入取整</p>
</li>
<li><p>sqrt(number); // * 计算数字的平方根</p>
</li>
<li><p>abs(number); // * 数字的绝对值</p>
</li>
<li><p>sin(number); // * sin函数</p>
</li>
<li><p>asin(number); // * arcsin函数</p>
</li>
<li><p>cos(number); // * cos函数</p>
</li>
<li><p>acos(number); // * arccos函数</p>
</li>
<li><p>tan(number); // * tan函数</p>
</li>
<li><p>pow(@base, @exponent); // * 返回@base的@exponent次方</p>
</li>
<li><p>mod(number, number); // * 第一个参数对第二个参数取余</p>
</li>
<li><p>convert(number, units); // * 在数字之间转换</p>
</li>
<li><p>unit(number, units); // * 不转换的情况下替换数字的单位</p>
</li>
<li><p>color(string); // 将字符串或者转义后的值转换成颜色</p>
</li>
<li><p>rgb(@r, @g, @b); // 转换为颜色值</p>
</li>
<li><p>rgba(@r, @g, @b, @a); // 转换为颜色值</p>
</li>
<li><p>argb(@color); // 创建 #AARRGGBB 格式的颜色值</p>
</li>
<li><p>hsl(@hue, @saturation, @lightness); // 创建颜色值</p>
</li>
<li><p>hsla(@hue, @saturation, @lightness, @alpha); // 创建颜色值</p>
</li>
<li><p>hsv(@hue, @saturation, @value); // 创建颜色值</p>
</li>
<li><p>hsva(@hue, @saturation, @value, @alpha); // 创建颜色值</p>
</li>
<li><p>hue(@color); // 从颜色值中提取 hue 值（色相）</p>
</li>
<li><p>saturation(@color); // 从颜色值中提取 saturation 值（饱和度）</p>
</li>
<li><p>lightness(@color); // 从颜色值中提取 ‘lightness’ 值（亮度）</p>
</li>
<li><p>hsvhue(@color); // * 从颜色中提取 hue 值，以HSV色彩空间表示（色相）</p>
</li>
<li><p>hsvsaturation(@color); // * 从颜色中提取 saturation 值，以HSV色彩空间表示（饱和度）</p>
</li>
<li><p>hsvvalue(@color); // * 从颜色中提取 value 值，以HSV色彩空间表示（色调）</p>
</li>
<li><p>red(@color); // 从颜色值中提取 ‘red’ 值（红色）</p>
</li>
<li><p>green(@color); // 从颜色值中提取 ‘green’ 值（绿色）</p>
</li>
<li><p>blue(@color); // 从颜色值中提取 ‘blue’ 值（蓝色）</p>
</li>
<li><p>alpha(@color); // 从颜色值中提取 ‘alpha’ 值（透明度）</p>
</li>
<li><p>luma(@color); // 从颜色值中提取 ‘luma’ 值（亮度的百分比表示法）</p>
</li>
<li><p>saturate(@color, 10%); // 饱和度增加 10%</p>
</li>
<li><p>desaturate(@color, 10%); // 饱和度降低 10%</p>
</li>
<li><p>lighten(@color, 10%); // 亮度增加 10%</p>
</li>
<li><p>darken(@color, 10%); // 亮度降低 10%</p>
</li>
<li><p>fadein(@color, 10%); // 透明度增加 10%</p>
</li>
<li><p>fadeout(@color, 10%); // 透明度降低 10%</p>
</li>
<li><p>fade(@color, 50%); // 设定透明度为 50%</p>
</li>
<li><p>spin(@color, 10); // 色相值增加 10</p>
</li>
<li><p>mix(@color1, @color2, [@weight: 50%]); // 混合两种颜色</p>
</li>
<li><p>greyscale(@color); // 完全移除饱和度，输出灰色</p>
</li>
<li><p>contrast(@color1, [@darkcolor: black], [@lightcolor: white], [@threshold: 43%]); // 如果 @color1 的 luma 值 &gt; 43% 输出 @darkcolor，否则输出 @lightcolor</p>
</li>
<li><p>multiply(@color1, @color2);</p>
</li>
<li><p>screen(@color1, @color2);</p>
</li>
<li><p>overlay(@color1, @color2);</p>
</li>
<li><p>softlight(@color1, @color2);</p>
</li>
<li><p>hardlight(@color1, @color2);</p>
</li>
<li><p>difference(@color1, @color2);</p>
</li>
<li><p>exclusion(@color1, @color2);</p>
</li>
<li><p>average(@color1, @color2);</p>
</li>
<li><p>negation(@color1, @color2);</p>
</li>
<li><p>iscolor(@colorOrAnything); // 判断一个值是否是颜色</p>
</li>
<li><p>isnumber(@numberOrAnything); // 判断一个值是否是数字（可含单位）</p>
</li>
<li><p>isstring(@stringOrAnything); // 判断一个值是否是字符串</p>
</li>
<li><p>iskeyword(@keywordOrAnything); // 判断一个值是否是关键字</p>
</li>
<li><p>isurl(@urlOrAnything); // 判断一个值是否是url</p>
</li>
<li><p>ispixel(@pixelOrAnything); // 判断一个值是否是以px为单位的数值</p>
</li>
<li><p>ispercentage(@percentageOrAnything); // 判断一个值是否是百分数</p>
</li>
<li><p>isem(@emOrAnything); // 判断一个值是否是以em为单位的数值</p>
</li>
<li><p>isunit(@numberOrAnything, “rem”); // * 判断一个值是否是指定单位的数值</p>
</li>
</ul>
<h2 id="escape"><a href="#escape" class="headerlink" title="escape"></a>escape</h2><blockquote>
<p>字符串函数 (String functions)<br>escape(@string)</p>
</blockquote>
<p>使用URL-encoding的方式编码字符串。</p>
<p>以下字符不会被编码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">, / / / ? / @ / &amp; / + / &apos; / ~ / ! / $。</div></pre></td></tr></table></figure>
<p>最常见的被编码的字符串包括:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/ # / ^ / ( / ) / &#123; / &#125; / | / : / &gt; / &lt; / ; / ] / [ / =。</div></pre></td></tr></table></figure>
<p>参数:</p>
<ul>
<li>字符串：需要转义的字符串<ul>
<li>返回值：字符串 (string)</li>
</ul>
</li>
</ul>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">escape(&apos;a=1&apos;)</div></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a%3D1</div></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果参数不是字符串的话，函数行为是不可预知的。<br>目前传入颜色值的话会返回undefined，其它的值会原样返回。<br>写代码时不应该依赖这个特性，而且这个特性在未来有可能改变。</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/23/javascript/js-错误捕获/" itemprop="url">
                  js 错误捕获
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-23T14:58:09+08:00" content="2016-06-23">
              2016-06-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="mozilla-文档"><a href="#mozilla-文档" class="headerlink" title="mozilla 文档"></a>mozilla 文档</h2><p>An event handler for the error event.<br>Error events are fired at various targets for different kinds of errors:</p>
<ol>
<li><p>When a JavaScript runtime error (including syntax errors) occurs,<br>an error event using interface ErrorEvent is fired at window and window.onerror() is invoked.</p>
</li>
<li><p>When a resource (such as an <code>&lt;img&gt;</code> or <code>&lt;script&gt;</code>) fails to load,<br>an error event using interface Event is fired at the element,<br>that initiated the load, and the onerror() handler on the element is invoked.<br>These error events do not bubble up to window, but (at least in Firefox) can be handled with a single capturing window.addEventListener.</p>
</li>
</ol>
<h2 id="start"><a href="#start" class="headerlink" title="start"></a>start</h2><p>基本可以就是说，window.onerror方法，我们可以写成：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** </span></div><div class="line"><span class="comment"> * @param &#123;String&#125; errorMessage  错误信息 </span></div><div class="line"><span class="comment"> * @param &#123;String&#125; scriptURI   出错的文件 </span></div><div class="line"><span class="comment"> * @param &#123;Long&#125;  lineNumber   出错代码的行号 </span></div><div class="line"><span class="comment"> * @param &#123;Long&#125;  columnNumber  出错代码的列号 </span></div><div class="line"><span class="comment"> * @param &#123;Object&#125; errorObj    错误的详细信息，Anything </span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="built_in">window</span>.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">errorMessage, scriptURI, lineNumber,columnNumber,errorObj</span>) </span>&#123; </div><div class="line">  <span class="comment">// TODO </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不过使用过程中还得注意兼容性问题，不是所有浏览器都有参数列表中的所有参数，<br>chrome之类的，都是浏览器标准草案的领跑者，这些个参数用就是了！</p>
<p>于是，可以写一个小Demo来尝试一下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span> </div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Js错误捕获<span class="tag">&lt;/<span class="name">title</span>&gt;</span> </div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"> </span></div><div class="line"><span class="undefined">  /** </span></div><div class="line"><span class="javascript">   * @param &#123;<span class="built_in">String</span>&#125; errorMessage  错误信息 </span></div><div class="line"><span class="javascript">   * @param &#123;<span class="built_in">String</span>&#125; scriptURI   出错的文件 </span></div><div class="line"><span class="undefined">   * @param &#123;Long&#125;  lineNumber   出错代码的行号 </span></div><div class="line"><span class="undefined">   * @param &#123;Long&#125;  columnNumber  出错代码的列号 </span></div><div class="line"><span class="javascript">   * @param &#123;<span class="built_in">Object</span>&#125; errorObj    错误的详细信息，Anything </span></div><div class="line"><span class="undefined">   */ </span></div><div class="line"><span class="javascript">  <span class="built_in">window</span>.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">errorMessage, scriptURI, lineNumber,columnNumber,errorObj</span>) </span>&#123; </span></div><div class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"错误信息："</span> , errorMessage); </span></div><div class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"出错文件："</span> , scriptURI); </span></div><div class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"出错行号："</span> , lineNumber); </span></div><div class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"出错列号："</span> , columnNumber); </span></div><div class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"错误详情："</span> , errorObj); </span></div><div class="line"><span class="undefined">  &#125; </span></div><div class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> </div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"error.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>其中error.js文件中的内容，简单的这样写一句：</p>
<p>用浏览器跑起来以后，打开console，基本就是这样的了：</p>
<p><img src="http://files.jb51.net/file_images/article/201601/201601271205084.png" alt=""></p>
<p>所以，这些数据都是可以做上报的了。</p>
<p> 当然了，上面的error.js是和html页面同域名下，如果error.js不在同域下，会是怎样的？我们把error.js的引用改一下：</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"//doitbegin.duapp.com/error.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<p> 再来打开console，我们看到的是这样的：</p>
<p> <img src="http://files.jb51.net/file_images/article/201601/201601271205085.png" alt=""></p>
<p> 相当于window.onerror方法只捕获到了一个errorMessage，而且是固定字符串，毫无参考价值。<br> 查了点资料（<a href="http://trac.webkit.org/browser/branches/chromium/648/Source/WebCore/dom/ScriptExecutionContext.cpp?rev=77122#L301" target="_blank" rel="external">Webkit源码</a>），发现在浏览器实现script资源加载的地方，<br> 是进行了同源策略判断的，如果是非同源资源，errorMessage就被写死为“Script error”了：</p>
<p> <img src="http://files.jb51.net/file_images/article/201601/201601271205086.png" alt=""></p>
<p> 好在script标签有一个crossorigin属性，设置它可以显示比较详细的错误信息，我们试着将script标签改一下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"//doitbegin.duapp.com/error.js"</span> crossorigin&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<p> 刷新页面，这个时候看到console中的输出是这样的：</p>
<p> <img src="http://files.jb51.net/file_images/article/201601/201601271205087.png" alt=""></p>
<p> 出现这个error也不意外，既然设置了error.js为crossorigin，<br> 那error.js的HTTP Response Header也必须设置非同源可访问。<br> 为了方便设置Header，把error.js做一个小改动，更名为：error-js.php。</p>
 <figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"> <span class="meta">&lt;?php</span> </div><div class="line">  header(<span class="string">'Access-Control-Allow-Origin:*'</span>); </div><div class="line">  header(<span class="string">'Content-type:text/javascript'</span>); </div><div class="line"><span class="meta">?&gt;</span> </div><div class="line"><span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string">'出错了'</span>);</div></pre></td></tr></table></figure>
<p> 此时刷新页面，看到console中的输出就已经正常了，所有信息都能正常捕获：</p>
<p> <img src="http://files.jb51.net/file_images/article/201601/201601271205088.png" alt=""></p>
<h2 id="JavaScript-错误"><a href="#JavaScript-错误" class="headerlink" title="JavaScript 错误"></a>JavaScript 错误</h2><p><a href="http://www.w3school.com.cn/js/js_errors.asp" target="_blank" rel="external">Throw、Try 和 Catch</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/12/react/es6-es7-更优雅的书写React/" itemprop="url">
                  es6 es7 更优雅的书写React
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-12T13:19:49+08:00" content="2016-06-12">
              2016-06-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/react/" itemprop="url" rel="index">
                    <span itemprop="name">react</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>目前我们想使用 es6 编写 React 应用时，常用到Babel这个编译工具，<br>在项目根目录下 建立 <code>.babelrc</code> ,内容如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;presets&quot;: [</div><div class="line">      &quot;es2015&quot;,</div><div class="line">      &quot;react&quot;,</div><div class="line">      &quot;stage-0&quot;</div><div class="line">    ],</div><div class="line">    &quot;plugins&quot;: []</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我们现在来说明下这个配置文件是什么意思。<br>首先，这个配置文件是针对babel 6的。<br>Babel 6做了一系列模块化，不像Babel 5一样把所有的内容都加载。<br>比如需要编译ES6，我们需要设置presets为”es2015”，也就是预先加载es6编译的相关模块，<br>如果需要编译jsx，需要预先加载”react”这个模块。<br>那问题来了，这个”stage-0”又代表什么呢？ 有了”react-0”，是否又有诸如”stage-1”, “stage-2”等等呢？</p>
<p>事实上， ”stage-0”是对ES7一些提案的支持，Babel通过插件的方式引入，让Babel可以编译ES7代码。<br>当然由于ES7没有定下来，所以这些功能随时肯能被废弃掉的。现在我们来一一分析里面都有什么。</p>
<h2 id="法力无边的stage-0"><a href="#法力无边的stage-0" class="headerlink" title="法力无边的stage-0"></a>法力无边的stage-0</h2><p>为什么说“stage-0” 法力无边呢，因为它包含stage-1, stage-2以及stage-3的所有功能，<br>同时还另外支持如下两个功能插件：</p>
<ul>
<li><p><a href="https://babeljs.io/docs/plugins/transform-do-expressions" target="_blank" rel="external">transform-do-expressions</a></p>
</li>
<li><p><a href="https://babeljs.io/docs/plugins/transform-function-bind" target="_blank" rel="external">transform-function-bind</a></p>
</li>
</ul>
<p>用过React的同学可能知道，jsx对条件表达式支持的不是太好，<br>你不能很方便的使用if/else表达式，要么你使用三元表达，要么用函数。<br>例如你不能写如下的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> App = React.createClass(&#123;</div><div class="line"></div><div class="line">    render()&#123;</div><div class="line">        <span class="keyword">let</span> &#123; color &#125; = <span class="keyword">this</span>.props;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            &lt;div className=<span class="string">"parents"</span>&gt;</div><div class="line">                &#123;</div><div class="line">                    <span class="keyword">if</span>(color == <span class="string">'blue'</span>) &#123; </div><div class="line">                        &lt;BlueComponent/&gt;; </div><div class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(color == <span class="string">'red'</span>) &#123; </div><div class="line">                        &lt;RedComponent/&gt;; </div><div class="line">                    &#125;<span class="keyword">else</span> &#123; </div><div class="line">                        &lt;GreenComponent/&gt;; &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">        )</span></div><div class="line"><span class="regexp">    &#125;</span></div><div class="line"><span class="regexp">&#125;)</span></div></pre></td></tr></table></figure>
<p>在React中你只能写成这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> App = React.createClass(&#123;</div><div class="line"></div><div class="line">    render()&#123;</div><div class="line">        <span class="keyword">let</span> &#123; color &#125; = <span class="keyword">this</span>.props;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="keyword">const</span> getColoredComponent = <span class="function"><span class="params">color</span> =&gt;</span> &#123;</div><div class="line">            <span class="keyword">if</span>(color === <span class="string">'blue'</span>) &#123; <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">BlueComponent</span>/&gt;</span></span>; &#125;</div><div class="line">            <span class="keyword">if</span>(color === <span class="string">'red'</span>) &#123; <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">RedComponent</span>/&gt;</span></span>; &#125;</div><div class="line">            <span class="keyword">if</span>(color === <span class="string">'green'</span>) &#123; <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">GreenComponent</span>/&gt;</span></span>; &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            &lt;div className=<span class="string">"parents"</span>&gt;</div><div class="line">                &#123; getColoredComponent(color) &#125;</div><div class="line">            &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">        )</span></div><div class="line"><span class="regexp">    &#125;</span></div><div class="line"><span class="regexp">&#125;)</span></div></pre></td></tr></table></figure>
<p><a href="https://babeljs.io/docs/plugins/transform-do-expressions" target="_blank" rel="external">transform-do-expressions</a><br>这个插件就是为了方便在 jsx写if/else表达式而提出的，我们可以重写下代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> App = React.createClass(&#123;</div><div class="line"></div><div class="line">    render()&#123;</div><div class="line">        <span class="keyword">let</span> &#123; color &#125; = <span class="keyword">this</span>.props;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            &lt;div className=<span class="string">"parents"</span>&gt;</div><div class="line">                &#123;<span class="keyword">do</span> &#123;</div><div class="line">                    <span class="keyword">if</span>(color == <span class="string">'blue'</span>) &#123; </div><div class="line">                        &lt;BlueComponent/&gt;; </div><div class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(color == <span class="string">'red'</span>) &#123; </div><div class="line">                        &lt;RedComponent/&gt;; </div><div class="line">                    &#125;<span class="keyword">else</span> &#123; </div><div class="line">                        &lt;GreenComponent/&gt;; &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;&#125;</div><div class="line">            &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">        )</span></div><div class="line"><span class="regexp">    &#125;</span></div><div class="line"><span class="regexp">&#125;)</span></div></pre></td></tr></table></figure>
<p>再说说 <a href="http://babeljs.io/docs/plugins/transform-function-bind/" target="_blank" rel="external">transform-function-bind</a>,<br>这个插件其实就是提供过 :: 这个操作符来方便快速切换上下文， 如下面的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">obj::func</div><div class="line"><span class="comment">// is equivalent to:</span></div><div class="line">func.bind(obj)</div><div class="line"></div><div class="line">obj::func(val)</div><div class="line"><span class="comment">// is equivalent to:</span></div><div class="line">func.call(obj, val)</div><div class="line"></div><div class="line">::obj.func(val)</div><div class="line"><span class="comment">// is equivalent to:</span></div><div class="line">func.call(obj, val)</div><div class="line"></div><div class="line"><span class="comment">// 再来一个复杂点的样例</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> box = &#123;</div><div class="line">  weight: <span class="number">2</span>,</div><div class="line">  getWeight() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.weight; &#125;,</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> &#123; getWeight &#125; = box;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(box.getWeight()); <span class="comment">// prints '2'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> bigBox = &#123; <span class="attr">weight</span>: <span class="number">10</span> &#125;;</div><div class="line"><span class="built_in">console</span>.log(bigBox::getWeight()); <span class="comment">// prints '10'</span></div><div class="line"></div><div class="line"><span class="comment">// Can be chained:</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">val</span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span> + val; &#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(bigBox::getWeight()::add(<span class="number">5</span>)); <span class="comment">// prints '15'</span></div></pre></td></tr></table></figure>
<p>如果想更屌点，还可以写出更牛逼的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> &#123; map, filter &#125; = <span class="built_in">Array</span>.prototype;</div><div class="line"></div><div class="line"><span class="keyword">let</span> sslUrls = <span class="built_in">document</span>.querySelectorAll(<span class="string">'a'</span>)</div><div class="line">                ::map(<span class="function"><span class="params">node</span> =&gt;</span> node.href)</div><div class="line">                ::filter(<span class="function"><span class="params">href</span> =&gt;</span> href.substring(<span class="number">0</span>, <span class="number">5</span>) === <span class="string">'https'</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(sslUrls);</div></pre></td></tr></table></figure>
<h2 id="包罗万象的stage-1"><a href="#包罗万象的stage-1" class="headerlink" title="包罗万象的stage-1"></a>包罗万象的stage-1</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/11/react/React-组件之间如何交流/" itemprop="url">
                  React 组件之间如何交流
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-11T17:42:23+08:00" content="2016-06-11">
              2016-06-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/react/" itemprop="url" rel="index">
                    <span itemprop="name">react</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>原著序</p>
<p>处理 React 组件之间的交流方式，主要取决于组件之间的关系，然而这些关系的约定人就是你。</p>
<p>我不会讲太多关于 data-stores、data-adapters 或者 data-helpers 之类的话题。<br>我下面只专注于 React 组件本身的交流方式的讲解。</p>
<p>React 组件之间交流的方式，可以分为以下 3 种：</p>
<ul>
<li>【父组件】向【子组件】传值；</li>
<li>【子组件】向【父组件】传值；</li>
<li>没有任何嵌套关系的组件之间传值（PS：比如：兄弟组件之间传值）</li>
</ul>
<h2 id="【父组件】向【子组件】传值"><a href="#【父组件】向【子组件】传值" class="headerlink" title="【父组件】向【子组件】传值"></a>【父组件】向【子组件】传值</h2><p>初步使用</p>
<p>这个是相当容易的，在使用 React 开发的过程中经常会使用到，主要是利用 props 来进行交流。例子如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 父组件</span></div><div class="line"><span class="keyword">var</span> MyContainer = React.createClass(&#123;</div><div class="line">  getInitialState: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      checked: <span class="literal">true</span></div><div class="line">    &#125;;</div><div class="line">  &#125;,</div><div class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;ToggleButton text=<span class="string">"Toggle me"</span> checked=&#123;<span class="keyword">this</span>.state.checked&#125; /&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 子组件</span></div><div class="line"><span class="keyword">var</span> ToggleButton = React.createClass(&#123;</div><div class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// 从【父组件】获取的值</span></div><div class="line">    <span class="keyword">var</span> checked = <span class="keyword">this</span>.props.checked,</div><div class="line">        text = <span class="keyword">this</span>.props.text;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (</div><div class="line">        &lt;label&gt;&#123;text&#125;: <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>=<span class="string">&#123;checked&#125;</span> /&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>进一步讨论</p>
<p>如果组件嵌套层次太深，那么从外到内组件的交流成本就变得很高，通过 props 传递值的优势就不那么明显了。<br>（PS：所以我建议尽可能的减少组件的层次，就像写 HTML 一样，简单清晰的结构更惹人爱）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 父组件</span></div><div class="line"><span class="keyword">var</span> MyContainer = React.createClass(&#123;</div><div class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;Intermediate text=<span class="string">"where is my son?"</span> /&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 子组件1：中间嵌套的组件</span></div><div class="line"><span class="keyword">var</span> Intermediate = React.createClass(&#123;</div><div class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;Child text=&#123;<span class="keyword">this</span>.props.text&#125; /&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 子组件2：子组件1的子组件</span></div><div class="line"><span class="keyword">var</span> Child = React.createClass(&#123;</div><div class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;span&gt;&#123;<span class="keyword">this</span>.props.text&#125;&lt;<span class="regexp">/span&gt;</span></div><div class="line"><span class="regexp">    );</span></div><div class="line"><span class="regexp">  &#125;</span></div><div class="line"><span class="regexp">&#125;);</span></div></pre></td></tr></table></figure>
<h2 id="【子组件】向【父组件】传值"><a href="#【子组件】向【父组件】传值" class="headerlink" title="【子组件】向【父组件】传值"></a>【子组件】向【父组件】传值</h2><p>接下来，我们介绍【子组件】控制自己的 state 然后告诉【父组件】的点击状态，<br>然后在【父组件】中展示出来。<br>因此，我们添加一个 change 事件来做交互。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">// 父组件</div><div class="line">var MyContainer = React.createClass(&#123;</div><div class="line">  getInitialState: function () &#123;</div><div class="line">    return &#123;</div><div class="line">      checked: false</div><div class="line">    &#125;;</div><div class="line">  &#125;,</div><div class="line">  onChildChanged: function (newState) &#123;</div><div class="line">    this.setState(&#123;</div><div class="line">      checked: newState</div><div class="line">    &#125;);</div><div class="line">  &#125;,</div><div class="line">  render: function() &#123;</div><div class="line">    var isChecked = this.state.checked ? &apos;yes&apos; : &apos;no&apos;;</div><div class="line">    return (</div><div class="line">      &lt;div&gt;</div><div class="line">        &lt;div&gt;Are you checked: &#123;isChecked&#125;&lt;/div&gt;</div><div class="line">        &lt;ToggleButton text=&quot;Toggle me&quot;</div><div class="line">          initialChecked=&#123;this.state.checked&#125;</div><div class="line">          callbackParent=&#123;this.onChildChanged&#125;</div><div class="line">          /&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// 子组件</div><div class="line">var ToggleButton = React.createClass(&#123;</div><div class="line">  getInitialState: function () &#123;</div><div class="line">    return &#123;</div><div class="line">      checked: this.props.initialChecked</div><div class="line">    &#125;;</div><div class="line">  &#125;,</div><div class="line">  onTextChange: function () &#123;</div><div class="line">    var newState = !this.state.checked;</div><div class="line">    this.setState(&#123;</div><div class="line">      checked: newState</div><div class="line">    &#125;);</div><div class="line">    // 这里要注意：setState 是一个异步方法，所以需要操作缓存的当前值</div><div class="line">    this.props.callbackParent(newState);</div><div class="line">  &#125;,</div><div class="line">  render: function () &#123;</div><div class="line">    // 从【父组件】获取的值</div><div class="line">    var text = this.props.text;</div><div class="line">    // 组件自身的状态数据</div><div class="line">    var checked = this.state.checked;</div><div class="line"></div><div class="line">    return (</div><div class="line">        &lt;label&gt;&#123;text&#125;: &lt;input type=&quot;checkbox&quot; checked=&#123;checked&#125;                 onChange=&#123;this.onTextChange&#125; /&gt;&lt;/label&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><a href="http://www.tuicool.com/articles/AzQzEbq" target="_blank" rel="external">更多</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/26/react/react-native-Android-开发环境安装-gradle/" itemprop="url">
                  mac 系统下 react-native Android 开发环境安装 gradle
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-04-26T13:19:51+08:00" content="2016-04-26">
              2016-04-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/react-native/" itemprop="url" rel="index">
                    <span itemprop="name">react-native</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="gradle下载地址"><a href="#gradle下载地址" class="headerlink" title="gradle下载地址"></a>gradle下载地址</h2><blockquote>
<p>访问很慢，最好翻墙</p>
</blockquote>
<p><a href="https://gradle.org/gradle-download/" target="_blank" rel="external">下载地址</a></p>
<p>当前博主 下载版本是 <code>DOWNLOAD GRADLE 2.13</code></p>
<p>下载是 一个 zip 文件，</p>
<h2 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h2><p>文件解压到 <code>/usr/local/bin/</code> 目录下</p>
<p>此时文件目录是</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/local/bin/gradle-2.13-all</div></pre></td></tr></table></figure>
<p>编辑 <code>.bash_profile</code> 或者 <code>.zshrc</code></p>
<p>添加如下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">GRADLE_HOME=/usr/local/bin/gradle-2.13-all;</div><div class="line">export GRADLE_HOME</div><div class="line">export PATH=$PATH:$GRADLE_HOME/bin</div></pre></td></tr></table></figure>
<p>然后再在终端 上输入以下命令：</p>
<p><code>source ~/.bash_profile</code> or ‘source ~/.zshrc’</p>
<p>到此安装成功</p>
<p>可以通过以下命令来查看是否安装成功。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gradle -version</div></pre></td></tr></table></figure></p>
<h2 id="brew-install"><a href="#brew-install" class="headerlink" title="brew install"></a>brew install</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install gradle</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/09/docker/mac-系统-搭建-Docker-环境/" itemprop="url">
                  mac 系统 搭建 Docker 环境
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-09T19:48:28+08:00" content="2016-02-09">
              2016-02-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/docker/" itemprop="url" rel="index">
                    <span itemprop="name">docker</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="官方安装"><a href="#官方安装" class="headerlink" title="官方安装"></a><a href="https://docs.docker.com/engine/installation/mac/" target="_blank" rel="external">官方安装</a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"># julaud at julauddeMBP.lan in ~ [19:36:51]</div><div class="line">$ docker-machine ls</div><div class="line">NAME      ACTIVE   URL          STATE     URL                         SWARM   DOCKER   ERRORS</div><div class="line">default   *        virtualbox   Running   tcp://192.168.99.100:2376           v1.9.1   </div><div class="line"></div><div class="line"># julaud at julauddeMBP.lan in ~ [19:39:41]</div><div class="line">$ docker-machine start default</div><div class="line">Starting &quot;default&quot;...</div><div class="line">Machine &quot;default&quot; is already running.</div><div class="line"></div><div class="line"># julaud at julauddeMBP.lan in ~ [19:40:14]</div><div class="line">$ docker-machine ssh default</div><div class="line">                        ##         .</div><div class="line">                  ## ## ##        ==</div><div class="line">               ## ## ## ## ##    ===</div><div class="line">           /&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\___/ ===</div><div class="line">      ~~~ &#123;~~ ~~~~ ~~~ ~~~~ ~~~ ~ /  ===- ~~~</div><div class="line">           \______ o           __/</div><div class="line">             \    \         __/</div><div class="line">              \____\_______/</div><div class="line"> _                 _   ____     _            _</div><div class="line">| |__   ___   ___ | |_|___ \ __| | ___   ___| | _____ _ __</div><div class="line">| &apos;_ \ / _ \ / _ \| __| __) / _` |/ _ \ / __| |/ / _ \ &apos;__|</div><div class="line">| |_) | (_) | (_) | |_ / __/ (_| | (_) | (__|   &lt;  __/ |</div><div class="line">|_.__/ \___/ \___/ \__|_____\__,_|\___/ \___|_|\_\___|_|</div><div class="line">Boot2Docker version 1.9.1, build master : cef800b - Fri Nov 20 19:33:59 UTC 2015</div><div class="line">Docker version 1.9.1, build a34a1d5</div><div class="line">docker@default:~$ docker run hello-work</div><div class="line">Unable to find image &apos;hello-work:latest&apos; locally</div><div class="line">Pulling repository docker.io/library/hello-work</div><div class="line">Error: image library/hello-work:latest not found</div><div class="line">docker@default:~$ docker run hello-world</div><div class="line">Unable to find image &apos;hello-world:latest&apos; locally</div><div class="line">latest: Pulling from library/hello-world</div><div class="line">b901d36b6f2f: Pull complete </div><div class="line">0a6ba66e537a: Pull complete </div><div class="line">Digest: sha256:8be990ef2aeb16dbcb9271ddfe2610fa6658d13f6dfb8bc72074cc1ca36966a7</div><div class="line">Status: Downloaded newer image for hello-world:latest</div><div class="line"></div><div class="line">Hello from Docker.</div><div class="line">This message shows that your installation appears to be working correctly.</div><div class="line"></div><div class="line">To generate this message, Docker took the following steps:</div><div class="line"> 1. The Docker client contacted the Docker daemon.</div><div class="line"> 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.</div><div class="line"> 3. The Docker daemon created a new container from that image which runs the</div><div class="line">    executable that produces the output you are currently reading.</div><div class="line"> 4. The Docker daemon streamed that output to the Docker client, which sent it</div><div class="line">    to your terminal.</div><div class="line"></div><div class="line">To try something more ambitious, you can run an Ubuntu container with:</div><div class="line"> $ docker run -it ubuntu bash</div><div class="line"></div><div class="line">Share images, automate workflows, and more with a free Docker Hub account:</div><div class="line"> https://hub.docker.com</div><div class="line"></div><div class="line">For more examples and ideas, visit:</div><div class="line"> https://docs.docker.com/userguide/</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/07/angularjs/翻译-angularjs-2-0官方新手入门教程-1/" itemprop="url">
                   翻译 angularjs 2.0官方新手入门教程(1) 
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-07T12:28:36+08:00" content="2016-02-07">
              2016-02-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/angularjs/" itemprop="url" rel="index">
                    <span itemprop="name">angularjs</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h2><p>前些日子在公司同事的提议下接触了一下angular 2.0，跟着angularjs 2.0官方网站的上手教程做了一遍，<br>感觉这教程还是不错的，步骤清晰且没有冗余的内容，非常适合新手入门。<br>但是后来在网上看见不止一个人说跟着官方教程跑都跑不起来，所以怀疑是不是他们英语阅读有问题，<br>就打算把原教程实现的步骤翻译过来，并在过程中提供一些注意事项。<br>这次翻译的教程是一个五分钟的hello world教程，官网后面还有一些复杂一点的，以后有空再陆续翻译。<br>当然，我还是强烈建议去阅读官方原教程，因为里面除了实现以外对每一步都有非常详尽的解释，这是我这次翻译做不到的。<br>不过如果有问题也可以在评论里留言，我会尽量解答我能解答的，当然也欢迎指出里面毛病。</p>
<h2 id="准备："><a href="#准备：" class="headerlink" title="准备："></a>准备：</h2><p>做前端并不需要你去下载和配置很多东西，甚至angularjs 2.0的库文件都不需要你亲手去下载（事实上，你在他们官网也找不到下载的地方）。<br>你需要做的只是找个代码编辑器，把npm装好，写好包依赖的json文件，之后npm会自动帮你把需要的东西下载下来（这也是目前前端领域的惯用做法，具体怎么做后面会说）。</p>
<p>所以，要完成这个教程你第一步要干的是弄好以下两样东西：</p>
<ul>
<li><p>npm，官网教程：<a href="https://docs.npmjs.com/getting-started/installing-node。注意：安装过程中碰到npm" target="_blank" rel="external">https://docs.npmjs.com/getting-started/installing-node。注意：安装过程中碰到npm</a> WARN无视就好，<br>如果在安装的最后碰到npm ERR则表明失败，失败的原因可能是npm没装好，也可能是因为伟大的GFW，所以你可能需要翻墙，请务必自备VPN。<br>（多说一句，不翻墙，就别写代码，因为你解决问题的效率将是翻墙的十分之一都不到。）</p>
</li>
<li><p>一个顺手的代码编辑器，比如微软的visual studio code，或者sublime，或者随便什么。</p>
</li>
<li><p>Chrome，做前端调试网页必备浏览器。</p>
</li>
</ul>
<p>如果配置npm出问题，请到谷歌或者stackoverflow（不要用百度）搜索命令行里提示给你们的错误信息，去找解决方法。</p>
<p>以上三项准备好了以后，可以正式开始写代码了。</p>
<h3 id="第一步：写包依赖json文件，并下载所有的包"><a href="#第一步：写包依赖json文件，并下载所有的包" class="headerlink" title="第一步：写包依赖json文件，并下载所有的包"></a>第一步：写包依赖json文件，并下载所有的包</h3><ul>
<li><p>随便找个什么地方，建一个文件夹，文件夹名叫angular2-quickstart</p>
</li>
<li><p>在angular2-quickstart文件夹里建一个文件叫package.json</p>
</li>
<li><p>复制以下内容到package.json</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;name&quot;: &quot;angular2-quickstart&quot;,</div><div class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</div><div class="line">  &quot;scripts&quot;: &#123;</div><div class="line">    &quot;tsc&quot;: &quot;tsc&quot;,</div><div class="line">    &quot;tsc:w&quot;: &quot;tsc -w&quot;,</div><div class="line">    &quot;lite&quot;: &quot;lite-server&quot;,</div><div class="line">    &quot;start&quot;: &quot;concurrent \&quot;npm run tsc:w\&quot; \&quot;npm run lite\&quot; &quot;</div><div class="line">  &#125;,</div><div class="line">  &quot;license&quot;: &quot;ISC&quot;,</div><div class="line">  &quot;dependencies&quot;: &#123;</div><div class="line">    &quot;angular2&quot;: &quot;2.0.0-beta.3&quot;,</div><div class="line">    &quot;systemjs&quot;: &quot;0.19.6&quot;,</div><div class="line">    &quot;es6-promise&quot;: &quot;^3.0.2&quot;,</div><div class="line">    &quot;es6-shim&quot;: &quot;^0.33.3&quot;,</div><div class="line">    &quot;reflect-metadata&quot;: &quot;0.1.2&quot;,</div><div class="line">    &quot;rxjs&quot;: &quot;5.0.0-beta.0&quot;,</div><div class="line">    &quot;zone.js&quot;: &quot;0.5.11&quot;</div><div class="line">  &#125;,</div><div class="line">  &quot;devDependencies&quot;: &#123;</div><div class="line">    &quot;concurrently&quot;: &quot;^1.0.0&quot;,</div><div class="line">    &quot;lite-server&quot;: &quot;^2.0.1&quot;,</div><div class="line">    &quot;typescript&quot;: &quot;^1.7.5&quot;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>打开命令行，angular2-quickstart目录下输入 <code>npm install</code>，然后等着就行了（此步骤如果失败可能需要翻墙）。</p>
</blockquote>
<h4 id="配置Typescript（以下简称ts）"><a href="#配置Typescript（以下简称ts）" class="headerlink" title="配置Typescript（以下简称ts）"></a>配置Typescript（以下简称ts）</h4><p>首先说一下，Typescript是一门语言，是JavaScript（以下简称js）的超集，<br>至于为什么要用这个语言，问angularjs的官网吧（官网提供了三种语言版本的教程：js/ts/dart。其中只有ts这个语言的教程是比较全的，<br>不仅包含五分钟上手教程，还包含了后面比较复杂的教程）。好消息是这个语言看着比js还要简洁，而且很容易上手。</p>
<p>好，那么配置他也是很简单的事情，你需要做的事情和(2)是类似的，<br>首先在angular2-quickstart文件夹里建一个文件叫 <code>tsconfig.json</code>，并复制以下内容到 <code>tsconfig.json</code>里就可以了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;compilerOptions&quot;: &#123;</div><div class="line">    &quot;target&quot;: &quot;es5&quot;,</div><div class="line">    &quot;module&quot;: &quot;system&quot;,</div><div class="line">    &quot;moduleResolution&quot;: &quot;node&quot;,</div><div class="line">    &quot;sourceMap&quot;: true,</div><div class="line">    &quot;emitDecoratorMetadata&quot;: true,</div><div class="line">    &quot;experimentalDecorators&quot;: true,</div><div class="line">    &quot;removeComments&quot;: false,</div><div class="line">    &quot;noImplicitAny&quot;: false</div><div class="line">  &#125;,</div><div class="line">  &quot;exclude&quot;: [</div><div class="line">    &quot;node_modules&quot;</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="第二步：写ts源码"><a href="#第二步：写ts源码" class="headerlink" title="第二步：写ts源码"></a>第二步：写ts源码</h3><ul>
<li><p>在angular2-quickstart目录下建一个文件夹app，并在app文件夹里建一个文件叫app.component.ts</p>
</li>
<li><p>复制以下内容到app.component.ts</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">import &#123;Component&#125; from &apos;angular2/core&apos;;</div><div class="line"></div><div class="line">@Component(&#123;</div><div class="line">    selector: &apos;my-app&apos;,</div><div class="line">    template: &apos;&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;&apos;</div><div class="line">&#125;)</div><div class="line">export class AppComponent &#123; &#125;</div></pre></td></tr></table></figure>
<p>简单说一下，angularjs 2.0这个框架走的是组件化路线（前端大趋势），所以其实这里我们是建立了一个可视化的组件，<br>我们可以看出来一个组件大概是由两部分组成的，一个是@Component，在我们这个教程里，Component定义了他在html上的标签名以及html代码（他是什么样子），<br>当然Component里还有一些其他的功能，比如定义CSS和route等等。而另一部分是class，里面定义了他的业务逻辑（他要干什么），<br>但目前我们也不需要在里面写什么东西，毕竟只是个hello world。</p>
<p>这里我们可以看到他的class前面有个export关键词，根据官方的解释，<br>export这个动作把这个ts文件变成了一个组件，这样一来别的地方就可以import并使用他了，<br>就像第一行里我们 import {Component} from ‘angular2/core’ 一样。</p>
<ul>
<li><p>在app目录下建一个文件叫main.ts</p>
</li>
<li><p>复制以下内容到main.ts</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">import &#123;bootstrap&#125;    from &apos;angular2/platform/browser&apos;</div><div class="line">import &#123;AppComponent&#125; from &apos;./app.component&apos;</div><div class="line"></div><div class="line">bootstrap(AppComponent);</div></pre></td></tr></table></figure>
<p>看，我们刚才写的AppComponent就被import到这个main.ts里了。而整个网页代码的入口也就是AppComponent。</p>
<h3 id="第三步：写html"><a href="#第三步：写html" class="headerlink" title="第三步：写html"></a>第三步：写html</h3><ul>
<li><p>在angular2-quickstart目录下建一个html文件叫index.html</p>
</li>
<li><p>复制以下内容到index.html</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;title&gt;Angular 2 QuickStart&lt;/title&gt;</div><div class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;    </div><div class="line"></div><div class="line">    &lt;!-- 1. Load libraries --&gt;</div><div class="line">    &lt;!-- IE required polyfills, in this exact order --&gt;</div><div class="line">    &lt;script src=&quot;node_modules/es6-shim/es6-shim.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=&quot;node_modules/systemjs/dist/system-polyfills.js&quot;&gt;&lt;/script&gt;</div><div class="line"></div><div class="line">    &lt;script src=&quot;node_modules/angular2/bundles/angular2-polyfills.js&quot;&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=&quot;node_modules/systemjs/dist/system.src.js&quot;&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=&quot;node_modules/rxjs/bundles/Rx.js&quot;&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=&quot;node_modules/angular2/bundles/angular2.dev.js&quot;&gt;&lt;/script&gt;</div><div class="line"></div><div class="line">    &lt;!-- 2. Configure SystemJS --&gt;</div><div class="line">    &lt;script&gt;</div><div class="line">      System.config(&#123;</div><div class="line">        packages: &#123;        </div><div class="line">          app: &#123;</div><div class="line">            format: &apos;register&apos;,</div><div class="line">            defaultExtension: &apos;js&apos;</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;);</div><div class="line">      System.import(&apos;app/main&apos;)</div><div class="line">            .then(null, console.error.bind(console));</div><div class="line">    &lt;/script&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line"></div><div class="line">  &lt;!-- 3. Display the application --&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;my-app&gt;Loading...&lt;/my-app&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line"></div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<hr>
<p>我们可以看出来，这个index.html分为三块。第一块引入了必要的js文件，他们都存在npm下载好的目录下。<br>第二块配置了 <code>SystemJS</code>，并在里面 <code>import</code> 了我们刚才写好的 <code>main.ts</code>，<code>main.ts</code>里提供了代码的入口即<code>bootstrap</code>。<br>第三块就是显示出来我们最开始写的app.component.ts，你应该还有印象，在 <code>app.component.ts</code> 的代码里有一句是 <code>selector: &#39;my-app&#39;</code>，<br>所以在html里这个组件就用 <code>&lt;my-app&gt;&lt;/my-app&gt;</code>表示，<br>这个标签显示的内容就是  <code>template: &#39;&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;&#39;</code> 中的  <code>&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;&#39;</code>，<br>而那个Loading…则会显示在js文件加载完之前，加载之后就会被template里的内容替代。</p>
<h3 id="第四步：编译运行"><a href="#第四步：编译运行" class="headerlink" title="第四步：编译运行"></a>第四步：编译运行</h3><p>很简单就一步，<code>angular2-quickstart</code> 目录下在命令行里输入 <code>npm start</code>，之后不要关闭命令行，等待一会儿会有个网页自动打开就可以看到结果了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/04/docker/1小时入门Docker精品文章/" itemprop="url">
                  1小时入门Docker精品文章
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-04T13:00:31+08:00" content="2016-02-04">
              2016-02-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/docker/" itemprop="url" rel="index">
                    <span itemprop="name">docker</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Docker是什么<br>Docker是软件工业中的容器技术。Docker为容器引入了镜像，使得容器可以从预先定义好的模版（images）创建出来，并且Docker镜像还是分层的。</p>
<h2 id="Docker经常被提起的特点："><a href="#Docker经常被提起的特点：" class="headerlink" title="Docker经常被提起的特点："></a>Docker经常被提起的特点：</h2><ul>
<li><p>轻量，体现在内存占用小，高密度</p>
</li>
<li><p>快速，毫秒启动</p>
</li>
<li><p>隔离，沙盒技术更像虚拟机</p>
</li>
</ul>
<h3 id="Docker技术的基础："><a href="#Docker技术的基础：" class="headerlink" title="Docker技术的基础："></a>Docker技术的基础：</h3><ul>
<li><p>namespace，容器隔离的基础，保证A容器看不到B容器. 6个名空间：User,Mnt,Network,UTS,IPC,Pid</p>
</li>
<li><p>cgroups，容器资源统计和隔离。主要用到的cgroups子系统：cpu,blkio,device,freezer,memory</p>
</li>
<li><p>unionfs，典型：aufs/overlayfs，分层镜像实现的基础</p>
</li>
</ul>
<h3 id="Docker组件："><a href="#Docker组件：" class="headerlink" title="Docker组件："></a>Docker组件：</h3><ul>
<li><p>docker Client客户端————&gt;向docker服务器进程发起请求，如:创建、停止、销毁容器等操作</p>
</li>
<li><p>docker Server服务器进程—–&gt;处理所有docker的请求，管理所有容器</p>
</li>
<li><p>docker Registry镜像仓库——&gt;镜像存放的中央仓库，可看作是存放二进制的scm</p>
</li>
</ul>
<h3 id="Docker安装"><a href="#Docker安装" class="headerlink" title="Docker安装"></a>Docker安装</h3><p>Docker的安装非常简单，支持目前所有主流操作系统，从Mac到Windows到各种Linux发行版</p>
<p>具体参考： <a href="https://docs.docker.com/installation/" target="_blank" rel="external">docker安装</a></p>
<h3 id="Docker常见命令"><a href="#Docker常见命令" class="headerlink" title="Docker常见命令"></a>Docker常见命令</h3><p>容器相关操作</p>
<ul>
<li><p>docker create # 创建一个容器但是不启动它</p>
</li>
<li><p>docker run # 创建并启动一个容器</p>
</li>
<li><p>docker stop # 停止容器运行，发送信号SIGTERM</p>
</li>
<li><p>docker start # 启动一个停止状态的容器</p>
</li>
<li><p>docker restart # 重启一个容器</p>
</li>
<li><p>docker rm # 删除一个容器</p>
</li>
<li><p>docker kill # 发送信号给容器，默认SIGKILL</p>
</li>
<li><p>docker attach # 连接(进入)到一个正在运行的容器</p>
</li>
<li><p>docker wait # 阻塞到一个容器，直到容器停止运行</p>
</li>
</ul>
<p>获取容器相关信息</p>
<ul>
<li><p>docker ps # 显示状态为运行（Up）的容器</p>
</li>
<li><p>docker ps -a # 显示所有容器,包括运行中（Up）的和退出的(Exited)</p>
</li>
<li><p>docker inspect # 深入容器内部获取容器所有信息</p>
</li>
<li><p>docker logs # 查看容器的日志(stdout/stderr)</p>
</li>
<li><p>docker events # 得到docker服务器的实时的事件</p>
</li>
<li><p>docker port # 显示容器的端口映射</p>
</li>
<li><p>docker top # 显示容器的进程信息</p>
</li>
<li><p>docker diff # 显示容器文件系统的前后变化</p>
</li>
</ul>
<h3 id="导出容器"><a href="#导出容器" class="headerlink" title="导出容器"></a>导出容器</h3><ul>
<li><p>docker cp # 从容器里向外拷贝文件或目录</p>
</li>
<li><p>docker export # 将容器整个文件系统导出为一个tar包，不带layers、tag等信息</p>
</li>
</ul>
<h3 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h3><p>docker exec # 在容器里执行一个命令，可以执行bash进入交互式</p>
<h3 id="镜像操作"><a href="#镜像操作" class="headerlink" title="镜像操作"></a>镜像操作</h3><ul>
<li><p>docker images # 显示本地所有的镜像列表</p>
</li>
<li><p>docker import # 从一个tar包创建一个镜像，往往和export结合使用</p>
</li>
<li><p>docker build # 使用Dockerfile创建镜像（推荐）</p>
</li>
<li><p>docker commit # 从容器创建镜像</p>
</li>
<li><p>docker rmi # 删除一个镜像</p>
</li>
<li><p>docker load # 从一个tar包创建一个镜像，和save配合使用</p>
</li>
<li><p>docker save # 将一个镜像保存为一个tar包，带layers和tag信息</p>
</li>
<li><p>docker history # 显示生成一个镜像的历史命令</p>
</li>
<li><p>docker tag # 为镜像起一个别名</p>
</li>
</ul>
<h3 id="镜像仓库-registry-操作"><a href="#镜像仓库-registry-操作" class="headerlink" title="镜像仓库(registry)操作"></a>镜像仓库(registry)操作</h3><ul>
<li><p>docker login # 登录到一个registry</p>
</li>
<li><p>docker search # 从registry仓库搜索镜像</p>
</li>
<li><p>docker pull # 从仓库下载镜像到本地</p>
</li>
<li><p>docker push # 将一个镜像push到registry仓库中</p>
</li>
</ul>
<h3 id="获取Container-IP地址（Container状态必须是Up）"><a href="#获取Container-IP地址（Container状态必须是Up）" class="headerlink" title="获取Container IP地址（Container状态必须是Up）"></a>获取Container IP地址（Container状态必须是Up）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker inspect id | grep IPAddress | cut -d '"' -f 4</div></pre></td></tr></table></figure>
<h3 id="获取端口映射"><a href="#获取端口映射" class="headerlink" title="获取端口映射"></a>获取端口映射</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker inspect -f &apos;&#123;&#123;range $p, $conf := .NetworkSettings.Ports&#125;&#125; &#123;&#123;$p&#125;&#125; -&gt; &#123;&#123;(index $conf 0).HostPort&#125;&#125; &#123;&#123;end&#125;&#125;&apos; id</div></pre></td></tr></table></figure>
<h3 id="获取环境变量"><a href="#获取环境变量" class="headerlink" title="获取环境变量"></a>获取环境变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker exec container_id env</div></pre></td></tr></table></figure>
<h3 id="杀掉所有正在运行的容器"><a href="#杀掉所有正在运行的容器" class="headerlink" title="杀掉所有正在运行的容器"></a>杀掉所有正在运行的容器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker kill $(docker ps -q)</div></pre></td></tr></table></figure>
<h3 id="删除老的-一周前创建-容器"><a href="#删除老的-一周前创建-容器" class="headerlink" title="删除老的(一周前创建)容器"></a>删除老的(一周前创建)容器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker ps -a | grep &apos;weeks ago&apos; | awk &apos;&#123;print $1&#125;&apos; | xargs docker rm</div></pre></td></tr></table></figure>
<h3 id="删除已经停止的容器"><a href="#删除已经停止的容器" class="headerlink" title="删除已经停止的容器"></a>删除已经停止的容器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker rm `docker ps -a -q`</div></pre></td></tr></table></figure>
<h3 id="删除所有镜像，小心"><a href="#删除所有镜像，小心" class="headerlink" title="删除所有镜像，小心"></a>删除所有镜像，小心</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker rmi $(docker images -q)</div></pre></td></tr></table></figure>
<h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><p>Dockerfile是自动构建Docker镜像的配置文件。也是Docker区别于其他容器的重要特征，正是有了Dockerfile，Docker的自动化和可移植性才成为可能。</p>
<p>不论是开发还是运维，学会编写Dockerfile几乎是必备的，这有助于你理解整个容器的运行。</p>
<h3 id="FROM-从一个基础镜像构建新的镜像"><a href="#FROM-从一个基础镜像构建新的镜像" class="headerlink" title="FROM , 从一个基础镜像构建新的镜像"></a><strong>FROM</strong> , 从一个基础镜像构建新的镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">FROM ubuntu</div></pre></td></tr></table></figure>
<h3 id="MAINTAINER-维护者信息"><a href="#MAINTAINER-维护者信息" class="headerlink" title="MAINTAINER , 维护者信息"></a>MAINTAINER , 维护者信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">MAINTAINER julian &lt;julaudme@gmail.com&gt;</div></pre></td></tr></table></figure>
<h3 id="ENV-设置环境变量"><a href="#ENV-设置环境变量" class="headerlink" title="ENV , 设置环境变量"></a>ENV , 设置环境变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ENV TEST 1</div></pre></td></tr></table></figure>
<h3 id="RUN-非交互式运行shell命令"><a href="#RUN-非交互式运行shell命令" class="headerlink" title="RUN , 非交互式运行shell命令"></a>RUN , 非交互式运行shell命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">RUN apt-get -y update </div><div class="line"></div><div class="line">RUN apt-get -y install nginx</div></pre></td></tr></table></figure>
<h3 id="ADD-将外部文件拷贝到镜像里-src可以为url"><a href="#ADD-将外部文件拷贝到镜像里-src可以为url" class="headerlink" title="ADD , 将外部文件拷贝到镜像里,src可以为url"></a>ADD , 将外部文件拷贝到镜像里,src可以为url</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ADD http://zanjs.com/  /data/zanjs.tgz</div></pre></td></tr></table></figure>
<h3 id="WORKDIR-path-to-workdir-设置工作目录"><a href="#WORKDIR-path-to-workdir-设置工作目录" class="headerlink" title="WORKDIR /path/to/workdir, 设置工作目录"></a>WORKDIR /path/to/workdir, 设置工作目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">WORKDIR /var/www</div></pre></td></tr></table></figure>
<h3 id="USER-设置用户ID"><a href="#USER-设置用户ID" class="headerlink" title="USER , 设置用户ID"></a>USER , 设置用户ID</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">USER nginx</div></pre></td></tr></table></figure>
<h3 id="VULUME-lt-dir-gt-设置volume"><a href="#VULUME-lt-dir-gt-设置volume" class="headerlink" title="VULUME &lt;dir&gt;, 设置volume"></a><code>VULUME &lt;dir&gt;, 设置volume</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">VOLUME [‘/data’]</div></pre></td></tr></table></figure>
<h3 id="EXPOSE-暴露哪些端口"><a href="#EXPOSE-暴露哪些端口" class="headerlink" title="EXPOSE , 暴露哪些端口"></a>EXPOSE , 暴露哪些端口</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXPOSE 80 443</div></pre></td></tr></table></figure>
<h3 id="ENTRYPOINT-‘executable’-‘param1’-’param2’-执行命令"><a href="#ENTRYPOINT-‘executable’-‘param1’-’param2’-执行命令" class="headerlink" title="ENTRYPOINT [‘executable’, ‘param1’,’param2’]执行命令"></a>ENTRYPOINT [‘executable’, ‘param1’,’param2’]执行命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ENTRYPOINT [&quot;/usr/sbin/nginx&quot;]</div></pre></td></tr></table></figure>
<h3 id="CMD-“param1”-”param2”"><a href="#CMD-“param1”-”param2”" class="headerlink" title="CMD [“param1”,”param2”]"></a>CMD [“param1”,”param2”]</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CMD [&quot;start&quot;]</div></pre></td></tr></table></figure>
<p>docker创建、启动container时执行的命令，如果设置了ENTRYPOINT，则CMD将作为参数</p>
<h3 id="Dockerfile最佳实践"><a href="#Dockerfile最佳实践" class="headerlink" title="Dockerfile最佳实践"></a>Dockerfile最佳实践</h3><ul>
<li>尽量将一些常用不变的指令放到前面</li>
<li>CMD和ENTRYPOINT尽量使用json数组方式</li>
</ul>
<h3 id="通过Dockerfile构建image"><a href="#通过Dockerfile构建image" class="headerlink" title="通过Dockerfile构建image"></a>通过Dockerfile构建image</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker build csphere/nginx:1.7 .</div></pre></td></tr></table></figure>
<h3 id="镜像仓库Registry"><a href="#镜像仓库Registry" class="headerlink" title="镜像仓库Registry"></a>镜像仓库Registry</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">镜像从Dockerfile build生成后，需要将镜像推送(push)到镜像仓库。</div><div class="line">企业内部都需要构建一个私有docker registry，这个registry可以看作二进制的scm，CI/CD也需要围绕registry进行。</div></pre></td></tr></table></figure>
<h3 id="部署registry"><a href="#部署registry" class="headerlink" title="部署registry"></a>部署registry</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mkdir /registry</div><div class="line">docker run  -p 80:5000  -e STORAGE_PATH=/registry  -v /registry:/registry  registry:2.0</div></pre></td></tr></table></figure>
<h3 id="推送镜像保存到仓库"><a href="#推送镜像保存到仓库" class="headerlink" title="推送镜像保存到仓库"></a>推送镜像保存到仓库</h3><blockquote>
<p>假设192.168.1.2是registry仓库的地址</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">docker tag  csphere/nginx:1.7 192.168.1.2/csphere/nginx:1.7</div><div class="line">docker push 192.168.1.2/csphere/nginx:1.7</div></pre></td></tr></table></figure>
<h2 id="几个简单小例子"><a href="#几个简单小例子" class="headerlink" title="几个简单小例子"></a>几个简单小例子</h2><h3 id="容器操作"><a href="#容器操作" class="headerlink" title="容器操作"></a>容器操作</h3><ul>
<li>创建并拉取busybox</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"># docker run -it --name con01 busybox:latest</div><div class="line">/ # ip addr    #容器里执行</div><div class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default </div><div class="line">link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</div><div class="line">inet 127.0.0.1/8 scope host lo</div><div class="line">   valid_lft forever preferred_lft forever</div><div class="line">Segmentation fault (core dumped)</div><div class="line">/ # ping www.csphere.cn</div><div class="line">PING www.csphere.cn (117.121.26.243): 56 data bytes</div><div class="line">64 bytes from 117.121.26.243: seq=0 ttl=48 time=3.139 ms</div><div class="line">64 bytes from 117.121.26.243: seq=1 ttl=48 time=3.027 ms</div><div class="line">^C</div><div class="line">--- www.csphere.cn ping statistics ---</div><div class="line">2 packets transmitted, 2 packets received, 0% packet loss</div><div class="line">round-trip min/avg/max = 3.027/3.083/3.139 ms</div><div class="line">exit    #退出容器</div></pre></td></tr></table></figure>
<ul>
<li>创建测试容器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">docker run -d --name con03 csphere/test:0.1</div><div class="line">efc9bda4a2ff2f479b18e0fc4698e42c47c9583a24c93f5ce6b28a828a172709</div></pre></td></tr></table></figure>
<ul>
<li>登陆到con03中</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># docker exec -it con03 /bin/bash</div><div class="line">[root@efc9bda4a2ff /]# exit</div></pre></td></tr></table></figure>
<ul>
<li>停止con03</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># docker stop con03</div><div class="line">con03</div></pre></td></tr></table></figure>
<ul>
<li>开启con03</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># docker start con03</div><div class="line">con03</div></pre></td></tr></table></figure>
<ul>
<li>删除con03</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"># docker ps -a</div><div class="line">CONTAINER ID        IMAGE                    COMMAND                CREATED             STATUS                      PORTS                                             NAMES</div><div class="line">efc9bda4a2ff        csphere/test:0.1         &quot;/usr/local/bin/run    4 minutes ago       Up 17 seconds                                                                 con03               </div><div class="line">99aa6ee25adc        busybox:latest           &quot;/bin/sh&quot;              14 minutes ago      Exited (0) 12 minutes ago                                                     con02               </div><div class="line">831c93de9b9f        busybox:latest           &quot;/bin/sh&quot;              2 hours ago         Up 27 minutes                                                                 con01</div><div class="line"># docker rm con02     #容器停止的状态</div><div class="line"># docker rm -f con03  #容器开启的状态</div></pre></td></tr></table></figure>
<h2 id="镜像操作-1"><a href="#镜像操作-1" class="headerlink" title="镜像操作"></a>镜像操作</h2><h3 id="从docker-hub官方镜像仓库拉取镜像"><a href="#从docker-hub官方镜像仓库拉取镜像" class="headerlink" title="从docker hub官方镜像仓库拉取镜像"></a>从docker hub官方镜像仓库拉取镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># docker pull busybox:latest</div><div class="line">atest: Pulling from busybox</div><div class="line">cf2616975b4a: Pull complete </div><div class="line">6ce2e90b0bc7: Pull complete </div><div class="line">8c2e06607696: Already exists </div><div class="line">busybox:latest: The image you are pulling has been verified. Important: image verification is a tech preview feature and should not be relied on to provide security.</div><div class="line">Digest: sha256:38a203e1986cf79639cfb9b2e1d6e773de84002feea2d4eb006b52004ee8502d</div><div class="line">Status: Downloaded newer image for busybox:latest</div></pre></td></tr></table></figure>
<h3 id="从本地上传镜像到镜像仓库"><a href="#从本地上传镜像到镜像仓库" class="headerlink" title="从本地上传镜像到镜像仓库"></a>从本地上传镜像到镜像仓库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ker push 192.168.1.2/csphere/nginx:1.7</div></pre></td></tr></table></figure>
<h3 id="查找镜像仓库的某个镜像"><a href="#查找镜像仓库的某个镜像" class="headerlink" title="查找镜像仓库的某个镜像"></a>查找镜像仓库的某个镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># docker search centos/nginx</div><div class="line">NAME                                     DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</div><div class="line">johnnyzheng/centos-nginx-php-wordpress                                                   1                    [OK]</div><div class="line">sergeyzh/centos6-nginx                                                                   1                    [OK]</div><div class="line">hzhang/centos-nginx                                                                      1                    [OK]</div></pre></td></tr></table></figure>
<h3 id="查看本地镜像列表"><a href="#查看本地镜像列表" class="headerlink" title="查看本地镜像列表"></a>查看本地镜像列表</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"># docker images</div><div class="line">TAG                 IMAGE ID            CREATED             VIRTUAL SIZE</div><div class="line">docker.io/csphere/csphere   0.10.3              604c03bf0c9e        3 days ago          62.72 MB</div><div class="line">docker.io/csphere/csphere   latest              604c03bf0c9e        3 days ago          62.72 MB</div><div class="line">csphere/csphere             0.10.3              604c03bf0c9e        3 days ago          62.72 MB</div><div class="line">registry                    2.0                 2971b6ce766c        7 days ago          548.1 MB</div><div class="line">busybox                     latest              8c2e06607696        3 weeks ago         2.43 MB</div></pre></td></tr></table></figure>
<h3 id="删除镜像"><a href="#删除镜像" class="headerlink" title="删除镜像"></a>删除镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">docker rmi busybox:latest        #没有容器使用此镜像创建，如果有容器在使用此镜像会报错：Error response from daemon: Conflict, cannot delete 8c2e06607696 because the running container 831c93de9b9f is using it, stop it and use -f to force</div><div class="line">FATA[0000] Error: failed to remove one or more images</div><div class="line">docker rmi -f busybox:latest     #容器使用此镜像创建，此容器状态为Exited</div></pre></td></tr></table></figure>
<h3 id="查看构建镜像所用过的命令"><a href="#查看构建镜像所用过的命令" class="headerlink" title="查看构建镜像所用过的命令"></a>查看构建镜像所用过的命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># docker history busybox:latest</div><div class="line">IMAGE               CREATED             CREATED BY                                      SIZE</div><div class="line">8c2e06607696        3 weeks ago         /bin/sh -c #(nop) CMD [&quot;/bin/sh&quot;]               0 B</div><div class="line">6ce2e90b0bc7        3 weeks ago         /bin/sh -c #(nop) ADD file:8cf517d90fe79547c4   2.43 MB</div><div class="line">cf2616975b4a        3 weeks ago         /bin/sh -c #(nop) MAINTAINER Jérôme Petazzo     0 B</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars0.githubusercontent.com/u/12947276?v=3&u=b5243b88f15147a53dc05609982089fc63da9412&s=400"
               alt="Julian" />
          <p class="site-author-name" itemprop="name">Julian</p>
          <p class="site-description motion-element" itemprop="description">一米阳光下，一本书，一个人，思念昉~</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">53</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">75</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Julian</span>
   <a href="http://www.miitbeian.gov.cn/">沪ICP备15000369号-2</a>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
     
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  
  

  

  
 
</body>
</html>
